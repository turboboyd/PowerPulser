"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[212],{1023:function(e,r,t){t.d(r,{Z:function(){return x}});var s="BasicModalWindow_backdrop__zF1Qa",n="BasicModalWindow_modalWrapper__z8HT4",i=t(4164),c=t(2791),a="CloseButton_button__1uWD8",o="CloseButton_iconClose__6Mb78",l=t(182),u=t(3329),d=function(e){var r=e.handleCloseModal;return(0,u.jsx)("button",{className:a,type:"button",onClick:r,children:(0,u.jsx)(l.Z,{className:o,iconId:"Close"})})},m=document.querySelector("#modal-root"),x=function(e){var r=e.children,t=e.handleModalToggle;(0,c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,i.createPortal)((0,u.jsx)("div",{className:s,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)(d,{handleCloseModal:t}),r]})}),m)}},4112:function(e,r,t){t.d(r,{Z:function(){return i}});var s="TitlePage_title__zyjBQ",n=t(3329);function i(e){var r=e.title;return(0,n.jsx)("h1",{className:s,children:r})}},1301:function(e,r,t){var s=t(9434),n=t(3027);r.Z=function(){return{diaryProducts:(0,s.v9)(n.P3),diaryExercises:(0,s.v9)(n.KR),diaryIsLoading:(0,s.v9)(n.$x),diaryError:(0,s.v9)(n.QN)}}},5229:function(e,r,t){t.r(r),t.d(r,{default:function(){return Re}});var s=t(9439),n=t(2791),i=t(4112),c=t(9971),a=t(9434),o=function(e){return e.exercises.exercisesFilter},l=function(e){return e.exercises.itemsSelectedFilter},u=function(e){return e.exercises.isLoading},d=function(e){return e.exercises.error},m=function(e){return e.exercises.getMore},x=function(){return{exercisesFilter:(0,a.v9)(o),exercisesItemsSelectFilter:(0,a.v9)(l),exercisesIsLoading:(0,a.v9)(u),exercisesError:(0,a.v9)(d),exercisesGetMore:(0,a.v9)(m)}},_=t(5294),f=t(365),h=t(1220),p=t(182),g=t(1023),v=t(1301),j="AddExerciseForm_container__6v-Rz",E="AddExerciseForm_wrapper__7dS13",N="AddExerciseForm_imageWrapper__42zMK",S="AddExerciseForm_image__xjPOL",y="AddExerciseForm_textTime__l89AT",C="AddExerciseForm_timerWrapper__lUGx8",T="AddExerciseForm_listWrapper__3FNeu",b="AddExerciseForm_button__kFszF",w="undefined"==typeof window?n.useEffect:n.useLayoutEffect,k=function(e,r){return 0===e||e===r?0:"number"==typeof r?e-r:0},I=function(e){return{position:"relative",width:e,height:e}},Z={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},L=function(e,r,t,s,n){return 0===s?r:r+t*((n?s-e:e)/s)},A=function(e){var r,t;return null!=(t=null==(r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,r,t,s){return"#".concat(r).concat(r).concat(t).concat(t).concat(s).concat(s)})).substring(1).match(/.{2}/g))?void 0:r.map((function(e){return parseInt(e,16)})))?t:[]},F=function(e,r){var t,s=e.colors,n=e.colorsTime,i=e.isSmoothColorTransition,c=void 0===i||i;if("string"==typeof s)return s;var a=null!=(t=null==n?void 0:n.findIndex((function(e,t){return e>=r&&r>=n[t+1]})))?t:-1;if(!n||-1===a)return s[0];if(!c)return s[a];var o=n[a]-r,l=n[a]-n[a+1],u=A(s[a]),d=A(s[a+1]),m=!!e.isGrowing;return"rgb(".concat(u.map((function(e,r){return 0|L(o,e,d[r]-e,l,m)})).join(","),")")},P=function(e){var r=e.duration,t=e.initialRemainingTime,i=e.updateInterval,c=e.size,a=void 0===c?180:c,o=e.strokeWidth,l=void 0===o?12:o,u=e.trailStrokeWidth,d=e.isPlaying,m=void 0!==d&&d,x=e.isGrowing,_=void 0!==x&&x,f=e.rotation,h=void 0===f?"clockwise":f,p=e.onComplete,g=e.onUpdate,v=(0,n.useRef)(),j=function(e,r,t){var s=e/2,n=r/2,i=s-n,c=2*i,a="clockwise"===t?"1,0":"0,1",o=2*Math.PI*i;return{path:"m ".concat(s,",").concat(n," a ").concat(i,",").concat(i," 0 ").concat(a," 0,").concat(c," a ").concat(i,",").concat(i," 0 ").concat(a," 0,-").concat(c),pathLength:o}}(a,Math.max(l,null!=u?u:0),h),E=j.path,N=j.pathLength,S=function(e){var r=e.isPlaying,t=e.duration,i=e.startAt,c=void 0===i?0:i,a=e.updateInterval,o=void 0===a?0:a,l=e.onComplete,u=e.onUpdate,d=(0,n.useState)(c),m=(0,s.Z)(d,2),x=m[0],_=m[1],f=(0,n.useRef)(0),h=(0,n.useRef)(c),p=(0,n.useRef)(-1e3*c),g=(0,n.useRef)(null),v=(0,n.useRef)(null),j=(0,n.useRef)(null),E=function e(r){var s=r/1e3;if(null===v.current)return v.current=s,void(g.current=requestAnimationFrame(e));var n=s-v.current,i=f.current+n;v.current=s,f.current=i;var c=h.current+(0===o?i:(i/o|0)*o),a=h.current+i,l="number"==typeof t&&a>=t;_(l?t:c),l||(g.current=requestAnimationFrame(e))},N=function(){g.current&&cancelAnimationFrame(g.current),j.current&&clearTimeout(j.current),v.current=null},S=(0,n.useCallback)((function(e){N(),f.current=0;var t="number"==typeof e?e:c;h.current=t,_(t),r&&(g.current=requestAnimationFrame(E))}),[r,c]);return w((function(){if(null==u||u(x),t&&x>=t){p.current+=1e3*t;var e=(null==l?void 0:l(p.current/1e3))||{},r=e.shouldRepeat,s=void 0!==r&&r,n=e.delay,i=void 0===n?0:n,c=e.newStartAt;s&&(j.current=setTimeout((function(){return S(c)}),1e3*i))}}),[x,t]),w((function(){return r&&(g.current=requestAnimationFrame(E)),N}),[r,t,o]),{elapsedTime:x,reset:S}}({isPlaying:m,duration:r,startAt:k(r,t),updateInterval:i,onUpdate:"function"==typeof g?function(e){var t=Math.ceil(r-e);t!==v.current&&(v.current=t,g(t))}:void 0,onComplete:"function"==typeof p?function(e){var t,s=null!=(t=p(e))?t:{},n=s.shouldRepeat,i=s.delay,c=s.newInitialRemainingTime;if(n)return{shouldRepeat:n,delay:i,newStartAt:k(r,c)}}:void 0}),y=S.elapsedTime,C=r-y;return{elapsedTime:y,path:E,pathLength:N,remainingTime:Math.ceil(C),rotation:h,size:a,stroke:F(e,C),strokeDashoffset:L(y,0,N,r,_),strokeWidth:l}},M=function(e){var r=e.children,t=e.strokeLinecap,s=e.trailColor,i=e.trailStrokeWidth,c=P(e),a=c.path,o=c.pathLength,l=c.stroke,u=c.strokeDashoffset,d=c.remainingTime,m=c.elapsedTime,x=c.size,_=c.strokeWidth;return n.createElement("div",{style:I(x)},n.createElement("svg",{viewBox:"0 0 ".concat(x," ").concat(x),width:x,height:x,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:a,fill:"none",stroke:null!=s?s:"#d9d9d9",strokeWidth:null!=i?i:_}),n.createElement("path",{d:a,fill:"none",stroke:l,strokeLinecap:null!=t?t:"round",strokeWidth:_,strokeDasharray:o,strokeDashoffset:u})),"function"==typeof r&&n.createElement("div",{style:Z},r({remainingTime:d,elapsedTime:m,color:l})))};M.displayName="CountdownCircleTimer";var R="Timer_buttonWrapper__hpmp-",W="Timer_button__o3ZMD",D="Timer_icon__FwvTw",B="Timer_text__yQr+w",z="Timer_textCalories__IEWvV",q=function(e){var r=Math.floor(e/60),t=e%60,s=r<10?"0".concat(r):r,n=t<10?"0".concat(t):t;return"".concat(s,":").concat(n)},U=t(3329),V=function(e){var r=e.burnedCalories,t=e.time,i=e.dynamicCalories,c=e.setDynamicCalories,a=e.exerciseTime,o=e.setExerciseTime,l=(0,n.useState)(0),u=(0,s.Z)(l,2),d=u[0],m=u[1],x=(0,n.useState)(!1),_=(0,s.Z)(x,2),f=_[0],h=_[1],g=(0,n.useState)(""),v=(0,s.Z)(g,2),j=v[0],E=v[1];return(0,n.useEffect)((function(){if(f){var e=setInterval((function(){E((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}}),[f]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{children:[(0,U.jsx)(M,{size:124,isPlaying:f,duration:60*t,colors:"var(--orange)",strokeWidth:4,trailColor:" rgba(239, 237, 232, 0.3)",initialRemainingTime:60*t+j,onUpdate:function(e){!function(e){var s=e.remainingTime,n=60*Number(t);o(n-s);var i=Math.floor(a*r/n);c(i)}({remainingTime:e})},children:function(e){var r=e.remainingTime;return(0,U.jsx)("div",{children:q(r)})}},d),(0,U.jsxs)("div",{className:R,children:[(0,U.jsx)("button",{className:W,onClick:function(){h((function(e){return!e})),m((function(e){return e+1}))},children:(0,U.jsx)(p.Z,{className:D,iconId:f?"Pause":"Polygon"})}),(0,U.jsxs)("p",{className:B,children:["Burned calories:",(0,U.jsx)("span",{className:z,children:i})]})]})]})})},H=t(0),Q="ModalExercisesList_cardList__+mVYT",G="ModalExercisesList_cardItem__VSDL-",K="ModalExercisesList_cardText__HJTX+",X="ModalExercisesList_cardTitle__xXbLp",Y=function(e){return e.substring(0,1).toUpperCase()+e.substring(1)},J=function(e){var r=e.exercise;return(0,U.jsxs)("ul",{className:Q,children:[(0,U.jsxs)("li",{className:G,children:[(0,U.jsx)("p",{className:K,children:"Name:"}),(0,U.jsx)("strong",{className:X,children:Y(r.name)})]}),(0,U.jsxs)("li",{className:G,children:[(0,U.jsx)("p",{className:K,children:"Body part:"}),(0,U.jsx)("strong",{className:X,children:Y(r.bodyPart)})]}),(0,U.jsxs)("li",{className:G,children:[(0,U.jsx)("p",{className:K,children:"Target:"}),(0,U.jsx)("strong",{className:X,children:Y(r.target)})]}),(0,U.jsxs)("li",{className:G,children:[(0,U.jsx)("p",{className:K,children:"Equipment:"}),(0,U.jsx)("strong",{className:X,children:Y(r.equipment)})]})]})},O=t(7120),$=function(e){var r=e.handleModalExercise,t=e.handleModalSuccess,i=e.handleSelectedExercise,c=e.exercise,o=(0,n.useState)(""),l=(0,s.Z)(o,2),u=l[0],d=l[1],m=(0,n.useState)(""),x=(0,s.Z)(m,2),_=x[0],f=x[1],h=(0,a.I0)(),p=(0,v.Z)().diaryError,g=new Date,w={date:(0,H.Z)(g),exercise:c._id,time:_,calories:u};return(0,U.jsx)("div",{className:j,children:(0,U.jsxs)("div",{className:E,children:[(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{className:N,children:(0,U.jsx)("img",{className:S,src:c.gifUrl,alt:"Exercise example"})}),(0,U.jsx)("p",{className:y,children:"Time"}),(0,U.jsx)("div",{className:C,children:(0,U.jsx)(V,{burnedCalories:c.burnedCalories,time:c.time,dynamicCalories:u,setDynamicCalories:d,exerciseTime:_,setExerciseTime:f})})]}),(0,U.jsxs)("div",{className:T,children:[(0,U.jsx)(J,{exercise:c}),(0,U.jsx)("button",{className:b,type:"submit",disabled:!(_>0),onClick:function(){h((0,O.ec)(w)),p?console.log("Server error. Try again later"):(r(),t(),i(w))},children:"Add to diary"})]})]})})},ee="AddExerciseSuccess_container__UEI5a",re="AddExerciseSuccess_image__ricfH",te="AddExerciseSuccess_title__saeVm",se="AddExerciseSuccess_text1__seNOF",ne="AddExerciseSuccess_text2__t7aGD",ie="AddExerciseSuccess_textTime__7kP+0",ce="AddExerciseSuccess_textCalories__ERS6Y",ae="AddExerciseSuccess_button__6fWTn",oe="AddExerciseSuccess_linkWrapper__msKjb",le="AddExerciseSuccess_link__ZaHDo",ue="AddExerciseSuccess_iconArrow__Qq-QT",de=t.p+"static/media/thumbIcon.06ff8a8bdc626f0847f6.png",me=t(1087),xe=t(2041),_e=function(e){var r=e.handleModalSuccess,t=e.selectedExercise;return(0,U.jsxs)("div",{className:ee,children:[(0,U.jsx)("img",{className:re,src:de,alt:"Thumb up icon"}),(0,U.jsx)("strong",{className:te,children:"Well done"}),(0,U.jsxs)("p",{className:se,children:["Your time: ",(0,U.jsx)("span",{className:ie,children:t.time})]}),(0,U.jsxs)("p",{className:ne,children:["Burned calories:"," ",(0,U.jsx)("span",{className:ce,children:t.calories})]}),(0,U.jsx)("button",{className:ae,type:"button",onClick:r,children:"Next exercise"}),(0,U.jsxs)("div",{className:oe,children:[(0,U.jsx)(me.OL,{to:xe.zw,className:le,onClick:r,children:"To the diary"}),(0,U.jsx)(p.Z,{className:ue,iconId:"Arrow"})]})]})},fe=(0,n.forwardRef)((function(e,r){var t=e.exercise,i=(0,n.useState)(!1),c=(0,s.Z)(i,2),a=c[0],o=c[1],l=(0,n.useState)(!1),u=(0,s.Z)(l,2),d=u[0],m=u[1],x=(0,n.useState)(""),_=(0,s.Z)(x,2),f=_[0],v=_[1],j=function(){o((function(e){return!e})),document.body.classList.toggle("body-scroll-lock")},E=function(){m((function(e){return!e})),document.body.classList.toggle("body-scroll-lock")};return(0,U.jsxs)("div",{className:h.Z.exerciseWrapper,ref:r,children:[(0,U.jsxs)("div",{className:h.Z.exerciseCardTopPart,children:[(0,U.jsx)("p",{className:h.Z.exerciseCardTopDiet,children:"workout"}),(0,U.jsxs)("button",{className:h.Z.exerciseArrow,onClick:j,children:["Start",(0,U.jsx)(p.Z,{className:h.Z.exerciseArrowSvg,iconId:"Arrow"})]})]}),a&&(0,U.jsx)(g.Z,{handleModalToggle:j,children:(0,U.jsx)($,{handleModalExercise:j,handleModalSuccess:E,exercise:t,handleSelectedExercise:function(e){v(e)}})}),d&&(0,U.jsx)(g.Z,{handleModalToggle:E,children:(0,U.jsx)(_e,{handleModalSuccess:E,selectedExercise:f})}),(0,U.jsxs)("div",{className:h.Z.exerciseName,children:[(0,U.jsx)(p.Z,{className:h.Z.exerciseManSvg,iconId:"Runner"}),(0,U.jsx)("h3",{className:h.Z.exerciseNameText,children:t.name})]}),(0,U.jsxs)("ul",{className:h.Z.exerciseCardLowPart,children:[(0,U.jsxs)("li",{children:["Burned calories:",(0,U.jsx)("span",{children:t.burnedCalories})]}),(0,U.jsxs)("li",{children:["Body part:",(0,U.jsx)("span",{className:h.Z.exerciseCardItem,children:t.bodyPart})]}),(0,U.jsxs)("li",{children:["Target:",(0,U.jsx)("span",{className:h.Z.exerciseCardItem,children:t.target})]})]})]})})),he=t(4354),pe=function(e){var r=e.selectedSubcategory,t=(0,a.I0)(),s=x().exercisesItemsSelectFilter;return(0,n.useEffect)((function(){var e={page:1,id:r},s=_.Z.CancelToken.source(),n=s.token;return t((0,f.R)({params:e,cancelToken:n})),function(){return s.cancel()}}),[r,t]),(0,n.useEffect)((function(){return function(){t((0,he.C)())}}),[t]),(0,U.jsx)("div",{className:c.Z.cardContainerBackground,children:(0,U.jsx)("div",{className:c.Z.cardContainer,children:s.map((function(e){return e._id&&(0,U.jsx)(fe,{exercise:e},e._id)}))})})},ge="ExercisesSubcategoriesItem_exerciseItemWrap__+WjCw",ve="ExercisesSubcategoriesItem_exerciseItem__S5cc+",je=function(e){var r=e.exercise,t=e.onClick;return(0,U.jsxs)("div",{className:ge,onClick:t,children:[(0,U.jsx)("span",{className:ve,children:r.name}),(0,U.jsx)("img",{src:r.imgURL,alt:r.filter})]})},Ee="ExercisesSubcategoriesList_categoryContainer__HaLh6",Ne="ExercisesSubcategoriesList_categoryUl__HPwpF",Se="ExercisesSubcategoriesList_backButton__iSKV-",ye="ExercisesSubcategoriesList_subCatH__XXaDv",Ce="ExercisesSubcategoriesList_sliderUl__eEWxR",Te="ExercisesSubcategoriesList_sliderLi__LbjJS",be="ExercisesSubcategoriesList_active__K-R7z",we="ExercisesSubcategoriesList_exercisesContainer__V0Mna",ke="ExercisesSubcategoriesList_exerciseItem__cRLR8",Ie="ExercisesSubcategoriesList_pagination__i5EF9",Ze="ExercisesSubcategoriesList_paginationDot__RdzaE",Le="ExercisesSubcategoriesList_activeDot__gvSJF",Ae=["Body parts","Equipment","Muscles"],Fe=function(e){var r=e.setShowTitlePage,t=(0,a.I0)(),i=(0,n.useState)("Body parts"),c=(0,s.Z)(i,2),o=c[0],l=c[1],u=(0,n.useState)(null),d=(0,s.Z)(u,2),m=d[0],x=d[1],_=(0,n.useState)(1),h=(0,s.Z)(_,2),p=h[0],g=h[1],v=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--items-per-row")),j=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--item-width")),E=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--item-height")),N=(0,a.v9)((function(e){return e.exercises.exercisesFilter})),S=v*v,y=N?Math.ceil(N.length/S):0,C=function(e){return"".concat(o===e?be:""," ").concat(Te)};return(0,n.useEffect)((function(){o&&t((0,f.h)({type:o,page:1,limit:10}))}),[t,o]),(0,U.jsx)("div",{children:m?(0,U.jsxs)("div",{className:Ee,children:[(0,U.jsx)("button",{type:"button",onClick:function(){x(null),r(!0)},className:Se,children:"\u2190 Back"}),(0,U.jsx)("h2",{className:ye,children:m}),(0,U.jsx)("ul",{className:Ne,children:Ae.map((function(e){return(0,U.jsx)("li",{onClick:function(){return l(e)},className:C(e),children:e},e)}))}),m&&(0,U.jsx)(pe,{selectedSubcategory:m})]}):(0,U.jsxs)("div",{children:[(0,U.jsx)("ul",{className:Ce,children:Ae.map((function(e){return(0,U.jsx)("li",{onClick:function(){return l(e)},className:C(e),children:e},e)}))}),(0,U.jsx)("div",{className:we,children:N&&N.slice((p-1)*S,p*S).map((function(e){return(0,U.jsx)("div",{className:ke,children:(0,U.jsx)(je,{exercise:e,style:{width:j,height:E},onClick:function(){return s=e.name,x(s),r(!1),void t((0,f.h)({type:s,page:1,limit:10}));var s}})},e.name)}))}),(0,U.jsx)("div",{className:Ie,children:Array.from({length:y},(function(e,r){return r*S<N.length&&(0,U.jsx)("span",{onClick:function(){return function(e){var r=Math.min(Math.max(1,e),y);(r-1)*S<N.length&&g(r)}(r+1)},className:p===r+1?"".concat(be," ").concat(Ze," ").concat(Le):Ze,children:"\u2022"},r+1)}))})]})})},Pe=t(7834),Me=t(7689),Re=function(){var e=(0,n.useState)(null),r=(0,s.Z)(e,1)[0],t=(0,n.useState)(!0),a=(0,s.Z)(t,2),o=a[0],l=a[1],u=(0,Pe.Z)().user;return u&&null!==u.profileSettings?(0,U.jsxs)(U.Fragment,{children:[o&&(0,U.jsx)(i.Z,{title:"Exercises"}),(0,U.jsx)(Fe,{setShowTitlePage:l}),r&&(0,U.jsx)("div",{className:c.Z.cardContainerBackground,children:(0,U.jsx)(pe,{selectedSubcategory:r})})]}):(0,U.jsx)(Me.Fg,{to:xe._2})}},3027:function(e,r,t){t.d(r,{$x:function(){return i},KR:function(){return n},P3:function(){return s},QN:function(){return c}});var s=function(e){return e.diary.diaryProducts},n=function(e){return e.diary.diaryExercises},i=function(e){return e.diary.isLoading},c=function(e){return e.diary.error}},0:function(e,r){r.Z=function(e){var r=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return"".concat(s,"-").concat(t,"-").concat(r)}},1220:function(e,r){r.Z={exerciseWrapper:"ExercisesItem_exerciseWrapper__RIxrk",exerciseCardTopPart:"ExercisesItem_exerciseCardTopPart__Pqhh+",exerciseCardTopDiet:"ExercisesItem_exerciseCardTopDiet__NE2S6",exerciseArrow:"ExercisesItem_exerciseArrow__qG4Qc",exerciseName:"ExercisesItem_exerciseName__ZDurI",exerciseManSvg:"ExercisesItem_exerciseManSvg__6FfGy",exerciseArrowSvg:"ExercisesItem_exerciseArrowSvg__PllwK",exerciseNameText:"ExercisesItem_exerciseNameText__lZpBN",exerciseCardLowPart:"ExercisesItem_exerciseCardLowPart__Pd5F8",exerciseCardItem:"ExercisesItem_exerciseCardItem__hHkND",productRecommendedTrue:"ExercisesItem_productRecommendedTrue__ImE7z",productRecommendedFalse:"ExercisesItem_productRecommendedFalse__ZZ2Vd",productsCardTopPart:"ExercisesItem_productsCardTopPart__oPg19",productRecommended:"ExercisesItem_productRecommended__NqFXH",productCategory:"ExercisesItem_productCategory__w+tQU"}},9971:function(e,r){r.Z={exerciseArrowSvg:"ExercisesList_exerciseArrowSvg__eumz-",exerciseArrow:"ExercisesList_exerciseArrow__IEsFr",exercisesTitle:"ExercisesList_exercisesTitle__6FPY+",cardContainer:"ExercisesList_cardContainer__MW6u4",cardContainerBackground:"ExercisesList_cardContainerBackground__xLfR5",containerProducts:"ExercisesList_containerProducts__PcZc6"}}}]);
//# sourceMappingURL=212.bed210fa.chunk.js.map